!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jsbridge=t():e.jsbridge=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)r.d(n,u,function(t){return e[t]}.bind(null,u));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(7)).default;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.URI_ENUM={window:"window",request:"request"},t.METHOD_ENUM={nativeLogin:"nativeLogin",getToken:"getToken",getTmpToken:"getTmpToken",copy:"copy",getTK:"getTK",getWeexConfig:"getWeexConfig",getDeviceID:"getDeviceID",createImageWithMark:"createImageWithMark",createQRCodeImage:"createQRCodeImage",close:"close",nav:"nav",openBrowser:"openBrowser",emitSenseData:"emitSenseData",verify:"verify",share:"share",shareImage:"shareImage",shareImageBase64:"shareImageBase64",nativeShare:"nativeShare",setting:"setting"},t.LOCALE_ENUM={en_US:"en_US",vi_VN:"vi_VN",es_ES:"es_ES",fr_FR:"fr_FR",ru_RU:"ru_RU",th_TH:"th_TH",zh_HK:"zh_HK",zh_CN:"zh_CN"},t.INTERACTIVE_ENUM={regist:1,login:2,msg:3,award:4,order:5,post:6,other:0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent,u=/iphone|ipad|ipod|ios/i.test(n),i=/android/i.test(n),o=u||i,a={isWeex:!1,ua:n,isIOS:u,isAndroid:i,isMobile:o,isPC:!o,isOKApp:/OKApp/i.test(n)};t.default=a},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=_(r(0)),i=l(r(8)),o=_(r(9)),a=_(r(10)),f=_(r(11)),d=_(r(12)),c=l(r(13)),s=_(r(2));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var M=n({},l(r(1)),i,{navigation:o.default,clipboard:a.default,share:f.default,img:d.default,sense:c,env:s.default,executorType:u.default.type});t.default=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(e){return e&&e.__esModule?e:{default:e}}(r(2));function i(){var e=Date.now();return"jsbridge_cb_"+Math.random().toString(36).substr(2)+e}var o={type:"web",execute:function(e){if(!u.default.isOKApp)return Promise.reject();var t=i(),r=i();return new Promise(function(i,o){window[t]=function(e){i(e),delete window[t]},window[r]=function(e){o(e),delete window[r]},u.default.isAndroid?prompt(JSON.stringify(n({},e,{success:t,fail:r}))):window.webkit.messageHandlers.JShandle.postMessage(n({},e,{success:t,fail:r}))})}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.custom=a,t.isRightfullToken=f,t.login=function(){var e={uri:i.URI_ENUM.window,method:i.METHOD_ENUM.nativeLogin};if(u.default.isOKApp)return n.default.execute(e);return new Promise(function(e){window.location.href="/account/login",e()})},t.thirdLogin=function(e,t){var r={uri:i.URI_ENUM.request,method:e,data:t};return n.default.execute(r)},t.getToken=d,t.isLogin=function(){return d().then(function(e){return!!e})},t.getTmpToken=function(){return a({uri:i.URI_ENUM.window,method:i.METHOD_ENUM.getTmpToken})},t.getTK=function(){var e={uri:i.URI_ENUM.request,method:i.METHOD_ENUM.getTK};return n.default.execute(e)},t.getLocale=function(){var e=u.default.ua.match(/locale(=|\/)\S+/i);if(!e)return"";var t=e[0].replace(/locale(=|\/)/i,"").replace(/-/g,"_");if(/^en.*/i.test(t))return i.LOCALE_ENUM.en_US;if(/^vi.*/i.test(t))return i.LOCALE_ENUM.vi_VN;if(/^es.*/i.test(t))return i.LOCALE_ENUM.es_ES;if(/^fr.*/i.test(t))return i.LOCALE_ENUM.fr_FR;if(/^ru.*/i.test(t))return i.LOCALE_ENUM.ru_RU;if(/^th.*/i.test(t))return i.LOCALE_ENUM.th_TH;if(/^zh/i.test(t))return/(tw|hk|hant)/i.test(t)?i.LOCALE_ENUM.zh_HK:i.LOCALE_ENUM.zh_CN;return t},t.getStatusBarHeight=function(){var e=u.default.ua.match(/statusBarHeight\/(\S+)/i);return e?parseInt(e[1],10):0},t.getJSBridgeVersion=function(){var e=u.default.ua.match(/jsbridge\/(\S+)/i);return e?e[1]:null},t.getAppName=function(){var e=u.default.ua.match(/OKApp\/\((\S+)\//i);return e?e[1]:null},t.getAppVersion=function(){var e=u.default.ua.match(/OKApp\/\((\S+)\/(\S+)\)/i);return e?e[2]:null},t.getDeviceID=function(){var e={uri:i.URI_ENUM.request,method:i.METHOD_ENUM.getDeviceID};return n.default.execute(e)},t.getBrokerID=function(){var e=u.default.ua.match(/brokerId\/(\S+)/i);return e?e[1]:null},t.getBrokerDomain=function(){var e=u.default.ua.match(/brokerDomain\/(\S+)/i);return e?e[1]:null},t.getOkMeta=function(){var e=window.okMeta;if(!e)return{};return"string"==typeof e?JSON.parse(""+e):e},t.setTitle=function(e){document.title=e};var n=o(r(0)),u=o(r(2)),i=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return n.default.execute(e)}function f(e){return!!e&&3===(""+e).split(".").length}function d(){return new Promise(function(e){if(!u.default.isOKApp){var t=(window.utils||{}).ont;return t?t.isLogin()?e(localStorage.getItem("token")):e(void 0):e(localStorage.getItem("token"))}if(u.default.isAndroid){var r=window.native.getToken();return e(f(r)?r:void 0)}var o={uri:i.URI_ENUM.request,method:i.METHOD_ENUM.getToken};return n.default.execute(o).then(function(t){e(f(t)?t:void 0)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default={close:function(){var e={uri:n.URI_ENUM.window,method:n.METHOD_ENUM.close,data:!0};return u.default.execute(e)},nav:function(e){var t=e.location,r={uri:n.URI_ENUM.window,method:n.METHOD_ENUM.nav,data:t};return u.default.execute(r)},openBrowser:function(e){var t=e.url,r={uri:n.URI_ENUM.window,method:n.METHOD_ENUM.openBrowser,data:t};return u.default.execute(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),u=r(1);t.default={copy:function(e){var t=e.text,r={uri:u.URI_ENUM.request,method:u.METHOD_ENUM.copy,data:t};return n.default.execute(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default={shareLink:function(e){var t={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.share,data:e};return u.default.execute(t)},shareImg:function(e){var t={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.shareImage,data:e};return u.default.execute(t)},shareBase64:function(e){var t={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.shareImageBase64,data:e};return u.default.execute(t)},shareScreenshot:function(){var e={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.nativeShare};return u.default.execute(e)},hideShareBtn:function(){var e={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.setting,data:{showShareButton:!1}};return u.default.execute(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(r(0));t.default={createImageWithMark:function(e){var t={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.createImageWithMark,data:e};return u.default.execute(t)},createQRCodeImage:function(e){var t={uri:n.URI_ENUM.request,method:n.METHOD_ENUM.createQRCodeImage,data:e};return u.default.execute(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=a,t.verify=f,t.sense=d;var n=o(r(0)),u=o(r(2)),i=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(u.default.isAndroid)return Promise.resolve(e);var t={uri:i.URI_ENUM.request,method:i.METHOD_ENUM.emitSenseData,data:e};return n.default.execute(t)}function f(e){var t={uri:i.URI_ENUM.request,method:i.METHOD_ENUM.verify,data:e};return n.default.execute(t)}function d(e){return a(e).then(function(e){return f(e)})}d.INTERACTIVE_ENUM=i.INTERACTIVE_ENUM}]).default});